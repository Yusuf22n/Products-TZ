import{r as o,j as e,u as x,a as h,b as p,c as j,f as b}from"./index-C65eCfxK.js";import{H as C}from"./index-D4tj4R9E.js";const w=({onSearch:s})=>{const[r,n]=o.useState(""),l=a=>{n(a.target.value),s(a.target.value)};return e.jsx("input",{type:"text",value:r,onChange:l,placeholder:"Поиск по названию...",className:"w-full sm:w-48 md:w-64 p-2 text-sm sm:text-sm md:text-base border rounded-md shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"})},v=({onSortChange:s})=>e.jsxs("select",{onChange:r=>s(r.target.value),className:"w-full sm:w-40 md:w-56 p-2 sm:p-1 text-sm sm:text-xs md:text-sm border rounded-md shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 sm:ml-2",children:[e.jsx("option",{value:"asc",children:"По возрастанию"}),e.jsx("option",{value:"desc",children:"По убыванию"})]}),S=({product:s})=>{const r=x(),n=h(c=>c.cart),a=((c,m)=>c.some(u=>u.id===m))(n,s.id),d=()=>{r(a?p(s):j(s))};return e.jsxs("div",{className:"border p-4 rounded-lg shadow-lg flex flex-col",children:[e.jsx("img",{src:s.image,alt:s.title,className:"h-40 mx-auto object-contain"}),e.jsx("h2",{className:"text-lg font-semibold mt-2",children:s.title}),e.jsxs("p",{className:"text-gray-500",children:["$",s.price]}),e.jsx("button",{onClick:d,className:`mt-2 px-6 py-2 rounded-lg w-full transition-colors ${a?"bg-red-500 text-white hover:bg-red-400":"bg-blue-500 text-white hover:bg-blue-400"}`,children:a?"Удалить":"Добавить в корзину"})]})},T=()=>{const s=x(),{items:r,status:n}=h(t=>t.products),l=h(t=>t.cart),[a,d]=o.useState(""),[c,m]=o.useState("asc");o.useEffect(()=>{s(b())},[s]);const u=o.useMemo(()=>r.filter(t=>t.title.toLowerCase().includes(a.toLowerCase())).sort((t,i)=>c==="asc"?t.price-i.price:i.price-t.price),[r,a,c]),g=(t,i)=>t.some(f=>f.id===i);return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx(C,{}),e.jsxs("div",{className:"mt-20 mb-6 flex justify-between items-center",children:[e.jsx(w,{onSearch:d}),e.jsx(v,{onSortChange:m})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:u.map(t=>e.jsx(S,{product:t,isInCart:g(l,t.id)},t.id))})]})};export{T as default};
